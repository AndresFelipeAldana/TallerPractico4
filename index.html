<!DOCTYPE html>
<html>
<head>
    <title>Taller de Programación en JavaScript Andres Aldana</title>
    <meta charset="UTF-8">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
</head>
<body>

    <div class="container" align="center" style="padding: 40px 0px 40px 0px;">
        <h1>FUNCIONES JAVASCRIPT</h1>
    </div>
    
    <div class="container">
        <div class="form-group">
            <label for="funcion"><h2> Selecciona una función: </h2></label>
            <br><br>
            <select class="form-control" id="funcion">
                <option value="seleccionar">-- Seleccionar --</option>
                <option value="bisiesto">1. Función que determine si un año es bisiesto.</option>
                <option value="temperatura">2. Función que convierta grados Celsius a Fahrenheit.</option>
                <option value="mayor">3. Función que devuelva el mayor de dos números.</option>
                <option value="minutos">4. Función que convierta una cantidad de minutos en una cadena que indique cuántas horas y minutos corresponden.</option>
                <option value="rango">5. Función que determine si un número está dentro de un rango dado (incluyendo los límites).</option>
                <option value="precio">6. Función que calcule el precio final después de aplicar un porcentaje de descuento a un precio inicial.</option>
                <option value="votar">7. Función que determine si una persona puede votar según su edad.</option>
                <option value="areaTriangulo">8. Función que calcule el área de un triángulo dados su base y altura.</option>
            </select>
        </div>
        <br>
        <p id="descripcion"></p>
        <br>
        <div class="form-group" style="padding: 5px;">
            <label for="entrada" id="txtentrada1"></label>
            <br><br>
            <input type="text" class="form-control" id="entrada" style="display: none;">
            <br>
            <label for="entrada" id="txtentrada2" style="display: none;"></label>
            <input type="text" class="form-control" id="entrada2" style="display: none;">
            <br>
            <label for="entrada" id="txtentrada3" style="display: none;"></label>
            <input type="text" class="form-control" id="entrada3" style="display: none;">
        </div>
        <p id="resultado" style="color: blue;"></p>
        <br>
        <button id="BtnCalcular" class="btn btn-primary" style="display: none;" onclick="calcular()">Calcular</button>
        <br>
        
    </div>

    <script>

        document.getElementById('funcion').addEventListener('change', function() {
            var funcion = this.value;
            var descripcion = '';
            var txtentrada1 = '';
            var txtentrada2 = '';
            var txtentrada3 = '';

            if (funcion === 'seleccionar') {
                limpiar();

            }

            else if (funcion === 'bisiesto') {
                limpiarCampos();
                descripcion = 'La función debe devolver true si el año es bisiesto y false en caso contrario.';
                txtentrada1 = 'Ingresa un año para validar si es bisiesto: ';
                document.getElementById('entrada').style.display = 'block';
                document.getElementById('BtnCalcular').style.display = 'block';
                desactivarentrada2y3();
            } 
            else if (funcion === 'temperatura') {
                limpiarCampos();
                descripcion = 'La función debe devolver el equivalente en grados Fahrenheit..';
                txtentrada1 = 'Ingresa los grados Celsius: ';
                document.getElementById('entrada').style.display = 'block';
                document.getElementById('BtnCalcular').style.display = 'block';
                desactivarentrada2y3();
            } 
            else if (funcion === 'mayor') {
                limpiarCampos();
                descripcion = 'La función debe devolver el número mayor.';
                txtentrada1 = 'Ingresa primer numero: ';
                txtentrada2 = 'Ingresa segundo numero: ';
                document.getElementById('entrada').style.display = 'block';
                document.getElementById('txtentrada2').style.display = 'block';
                document.getElementById('entrada2').style.display = 'block';
                document.getElementById('BtnCalcular').style.display = 'block';
            } 

            else if (funcion === 'minutos') {
                limpiarCampos();
                descripcion = 'La función debe devolver una cadena con el formato "X horas y Y minutos"';
                txtentrada1 = 'Ingresa los minutos: ';
                document.getElementById('entrada').style.display = 'block';
                document.getElementById('BtnCalcular').style.display = 'block';
                desactivarentrada2y3();
            } 
            else if (funcion === 'rango') {
                limpiarCampos();
                descripcion = 'La función debe devolver true si el numero está dentro del rango [inicio, fin], y false en caso contrario.';
                txtentrada1 = 'Ingresa numero a validar: ';
                txtentrada2 = 'Ingresa rango inicio: ';
                txtentrada3 = 'Ingresa rango fin:';
                document.getElementById('entrada').style.display = 'block';
                document.getElementById('BtnCalcular').style.display = 'block';
                document.getElementById('txtentrada2').style.display = 'block';
                document.getElementById('entrada2').style.display = 'block';
                document.getElementById('txtentrada3').style.display = 'block';
                document.getElementById('entrada3').style.display = 'block';
            } 

            else if (funcion === 'precio') {
                limpiarCampos();
                descripcion = 'La función debe devolver el precio final después de aplicar el descuento.';
                txtentrada1 = 'Ingresa Precio inicial: ';
                txtentrada2 = 'Ingresa porcentaje de descuento: ';
                document.getElementById('entrada').style.display = 'block';
                document.getElementById('txtentrada2').style.display = 'block';
                document.getElementById('entrada2').style.display = 'block';
                document.getElementById('BtnCalcular').style.display = 'block';
                desactivarentrada3();
            } 
            else if (funcion === 'votar') {
                limpiarCampos();
                descripcion = 'La función debe devolver true si la edad es 18 o mayor, y false en caso contrario.';
                txtentrada1 = 'Ingresa la edad del posible Votante: ';
                document.getElementById('entrada').style.display = 'block';
                document.getElementById('BtnCalcular').style.display = 'block';
                desactivarentrada2y3();
            } 

            else if (funcion === 'areaTriangulo') {
                limpiarCampos();
                descripcion = 'La función debe devolver el área del triángulo.';
                txtentrada1 = 'Ingresa base del triangulo: ';
                txtentrada2 = 'Ingresa altura del triangulo: ';
                document.getElementById('entrada').style.display = 'block';
                document.getElementById('txtentrada2').style.display = 'block';
                document.getElementById('entrada2').style.display = 'block';
                document.getElementById('BtnCalcular').style.display = 'block';
                desactivarentrada3();
            } 

            document.getElementById('descripcion').innerText = descripcion;
            document.getElementById('txtentrada1').innerText = txtentrada1;
            document.getElementById('txtentrada2').innerText = txtentrada2;
            document.getElementById('txtentrada3').innerText = txtentrada3;
        });

        function limpiar(){
            document.getElementById('descripcion').innerText = '';
            document.getElementById('txtentrada1').innerText = '';
            document.getElementById('txtentrada2').innerText = '';
            document.getElementById('txtentrada3').innerText = '';
            document.getElementById('entrada').style.display = 'none';
            document.getElementById('entrada2').style.display = 'none';
            document.getElementById('entrada3').style.display = 'none';
            document.getElementById('BtnCalcular').style.display = 'none';
            document.getElementById('resultado').style.display = 'none';

        }

        function limpiarCampos(){
            document.getElementById('txtentrada1').innerText = '';
            document.getElementById('txtentrada2').innerText = '';
            document.getElementById('txtentrada3').innerText = '';
            document.getElementById('entrada').value = '';
            document.getElementById('entrada2').value = '';
            document.getElementById('entrada3').value = '';
            document.getElementById('resultado').innerText = '';
        }

        function activarentrada2(){
            document.getElementById('txtentrada2').style.display = 'block';
            document.getElementById('entrada2').style.display = 'block';
        }
        function activarentrada3(){
            document.getElementById('txtentrada3').style.display = 'block';
            document.getElementById('entrada3').style.display = 'block';
        }
        function desactivarentrada2y3(){
            document.getElementById('txtentrada2').style.display = 'none';
            document.getElementById('entrada2').style.display = 'none';
            document.getElementById('txtentrada3').style.display = 'none';
            document.getElementById('entrada3').style.display = 'none';
        }
        function desactivarentrada3(){
            document.getElementById('txtentrada3').style.display = 'none';
            document.getElementById('entrada3').style.display = 'none';
        }

        function esBisiesto(ano) {
            if (ano % 4 === 0) {
                if (ano % 100 === 0) {
                    if (ano % 400 === 0) {
                        return true;
                    } else {
                        return false;
                    }
                } else {
                    return true;
                }
            } else {
                return false;
            }
        }

        function celsiusAFahrenheit(celsius) {
            var fahrenheit = celsius * 9/5 + 32;
            return fahrenheit;
        }

        function mayorDeDos(n1, n2) {
            if (n1 > n2) {
                return n1;
            } else {
                return n2;
            }
        }

        function convertirMinutos(minutos) {
            var horas = Math.floor(minutos / 60);
            var minutosRestantes = minutos % 60;
            return horas + ' horas y ' + minutosRestantes + ' minutos';
        }

        function estaEnRango(numero, inicio, fin) {
            return numero >= inicio && numero <= fin;
        }

        function calcularPrecioFinal(precioInicial, descuento) {
            var descuentoEnDolares = precioInicial * (descuento / 100);
            var precioFinal = precioInicial - descuentoEnDolares;
            return precioFinal;
        }

        function puedeVotar(edad) {
            return edad >= 18;
        }
        s
        function calcularAreaTriangulo(base, altura) {
            var area = (base * altura) / 2;
            return area;
        }


        function calcular() {
            var funcion = document.getElementById('funcion').value;
            var entrada = document.getElementById('entrada').value;
            var entrada2 = document.getElementById('entrada2').value;
            var entrada3 = document.getElementById('entrada3').value;
            var resultado;

            // Verificar si los valores ingresados son números
            if (isNaN(entrada) || (funcion === 'mayor' && isNaN(entrada2)) || (funcion === 'rango' && (isNaN(entrada2) || isNaN(entrada3))) || (funcion === 'precio' && isNaN(entrada2))) {
                document.getElementById('resultado').innerText = 'Por favor, ingresa solo números.';
                return;
            }
            if (funcion === 'bisiesto') {                
                resultado = esBisiesto(entrada) ? 'El año ' + entrada + ' es bisiesto. (true)' : 'El año ' + entrada + ' no es bisiesto. (false)';
            } else if (funcion === 'temperatura') {
                resultado = 'La temperatura en grados Fahrenheit es ' + celsiusAFahrenheit(entrada) + '.';
            } else if (funcion === 'mayor') {
                resultado = 'El mayor de los dos números es ' + mayorDeDos(entrada, entrada2) + '.';
            } else if (funcion === 'minutos') {
                resultado = convertirMinutos(entrada);
            } else if (funcion === 'rango') {
                resultado = estaEnRango(entrada, entrada2, entrada3) ? '(true) El número ' + entrada + ' está en el rango entre ' + entrada2 + ' y ' + entrada3 + ' .'  : '(False) El número ' + entrada + ' no está en el rango entre ' + entrada2 + ' y ' + entrada3 + ' .';
            } else if (funcion === 'precio') {
                resultado = 'Precio inicial $' + entrada + ' el Descuento es del ' +entrada2+  '%, el precio final con descuento es $' + calcularPrecioFinal(entrada, entrada2) + '.';
            } else if (funcion === 'votar') {
                resultado = puedeVotar(entrada) ? '(true) La persona puede votar.' : '(False) La persona no puede votar.';
            }
            else if (funcion === 'areaTriangulo') {
                resultado = 'El área del triángulo es ' + calcularAreaTriangulo(entrada, entrada2) + '.';
            }

            document.getElementById('resultado').innerText = resultado;
        }

        document.getElementById('funcion').addEventListener('change', function() {
            if (this.value === 'mayor' || this.value === 'rango' || this.value === 'precio') {
                document.getElementById('entrada2').style.display = 'block';
                document.getElementById('txtentrada2').style.display = 'block';
            } else {
                document.getElementById('entrada2').style.display = 'none';
                document.getElementById('txtentrada2').style.display = 'none';
            }

            if (this.value === 'rango') {
                document.getElementById('entrada3').style.display = 'block';
                document.getElementById('txtentrada3').style.display = 'block';
            } else {
                document.getElementById('entrada3').style.display = 'none';
                document.getElementById('txtentrada3').style.display = 'none';
            }
            if (this.value === 'areaTriangulo') {
                document.getElementById('entrada2').style.display = 'block';
                document.getElementById('txtentrada2').style.display = 'block';
            } else {
                document.getElementById('entrada2').style.display = 'none';
                document.getElementById('txtentrada2').style.display = 'none';
            }
        });
    </script>

</body>
</html>
